# rollee-test-2

[![Build](https://github.com/shoriwe/rollee-test-2/actions/workflows/build.yaml/badge.svg)](https://github.com/shoriwe/rollee-test-2/actions/workflows/build.yaml)
[![codecov](https://codecov.io/gh/shoriwe/rollee-test-2/branch/main/graph/badge.svg?token=Q05MSIM4OL)](https://codecov.io/gh/shoriwe/rollee-test-2)
![GitHub go.mod Go version](https://img.shields.io/github/go-mod/go-version/shoriwe/rollee-test-2)
[![Go Report Card](https://goreportcard.com/badge/github.com/shoriwe/rollee-test-2)](https://goreportcard.com/report/github.com/shoriwe/rollee-test-2)

Second test for Rollee.

## Run

You can find compiled binaries on the [Release](https://github.com/shoriwe/rollee-test-2/releases) section.

### Go install

```shell
go install github.com/shoriwe/rollee-test-2@latest
```

After installing the binary you can run a temp server with the database running in memory with:

```shell
rollee-test-2 127.0.0.1:5000
```

### Docker compose

A ready to go `docker-compose.yaml` can be found at the root of the repository

```shell
docker compose -f docker-compose.yaml up -d
```

You can access the service at `127.0.0.1:5000`.

### Docker image

```shell
docker run -p 5000:5000 -d ghcr.io/shoriwe/rollee-test-2:latest
```

## Documentation

| File/Directory                                   | Description                                                  |
| ------------------------------------------------ | ------------------------------------------------------------ |
| [docs/Readme.md](docs/Readme.md)                 | This file contains the challenge to be implemented using `Go`. |
| [docs/spec.openapi.yaml](docs/spec.openapi.yaml) | OpenAPI specification of the REST API.                       |
| [CHANGELOG.md](CHANGELOG.md)                     | Autogenerated changelog, by using `standard-version` and `fix`, `feat` and `docs` commits. |
| [CONTRIBUTING.md](CONTRIBUTING.md)               | This file describe all the specification to properly contribute for this project, including the commits convention to use. |
| [docs/CICD.md](docs/CICD.md)                     | This document describes the CICD pipelines present in the repository. |
| [docs/Database.md](docs/Database.md)             | Database entity relationship diagram.                        |
| [docs.CLI.md](docs/CLI.md)                       | Documentation for the CLI tool.                              |

## Testing

Make sure you have the testing PostgreSQL service running. You can setup one easily with:
```shell
docker compose -f testing.docker-compose.yaml up -d
```

Finally:

```go
go test -count=1 -v ./...
```

## Coverage

|                           Sunburst                           | Grid |
| :----------------------------------------------------------: | :--: |
| [![sunburst](https://codecov.io/gh/shoriwe/rollee-test-2/branch/main/graphs/sunburst.svg?token=Q05MSIM4OL)](https://app.codecov.io/gh/shoriwe/rollee-test-2) |[![grid](https://codecov.io/gh/shoriwe/rollee-test-2/branch/main/graphs/tree.svg?token=Q05MSIM4OL)](https://app.codecov.io/gh/shoriwe/rollee-test-2)|